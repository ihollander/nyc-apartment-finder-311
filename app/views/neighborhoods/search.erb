<div class="ui grid">
  <div class="eight wide column">
    <div class="ui attached message">
      <div class="header">
        Search By Incidents
      </div>
      <p>
        The following areas are within your desired commuting time.
        Select up to five areas and criteria to see your matches.
      </p>
    </div>
    <%= form_tag result_neighborhoods_path, method: :get, class: "ui form attached fluid segment" do %>
      <div class="field">
        <%= label_tag "search[neighborhoods]", "Select up to 5 neighborhoods:" %>
        <%= collection_select :search, :neighborhoods, @neighborhoods, :id, :name, {}, { class: "ui fluid search dropdown", multiple: "" } %>
      </div>
      <div class="field">
        <%= label_tag "search[criteria]", "Select up to 5 criteria:" %>
        <%= collection_select :search, :criteria, @criteria_options, :to_s, :to_s, {}, { class: "ui fluid search dropdown", multiple: "" } %>
      </div>
      <%= submit_tag "Search", class: "ui submit button" %>
    <% end %>

    <% if flash[:errors] %>
      <%= render partial: 'shared/form_errors', locals: {
        error_header: 'Search error',
        error_messages: flash[:errors]
      } %>
    <% end %>
  </div>
  <div class="eight wide column">
    <%= render partial: 'map', locals: { neighborhoods: @neighborhoods } %>
  </div>
</div>
